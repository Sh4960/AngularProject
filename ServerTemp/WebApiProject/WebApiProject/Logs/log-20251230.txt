2025-12-30 12:18:18.311 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 12:18:23.128 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 12:18:23.140 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 12:18:23.428 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 12:18:23.436 +02:00 [INF] Hosting environment: Development
2025-12-30 12:18:23.451 +02:00 [INF] Content root path: E:\WebApiProject\WebApiProject
2025-12-30 12:18:28.450 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 12:18:29.964 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 1534.3346ms
2025-12-30 12:18:30.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 12:18:30.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 57.0088ms
2025-12-30 12:18:30.103 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 12:18:30.587 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 486.0555ms
2025-12-30 12:18:31.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 12:18:32.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.6703ms
2025-12-30 12:26:32.758 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 12:26:34.128 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 12:26:34.135 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 12:26:34.348 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 12:26:34.360 +02:00 [INF] Hosting environment: Development
2025-12-30 12:26:34.383 +02:00 [INF] Content root path: E:\WebApiProject\WebApiProject
2025-12-30 12:26:55.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 12:26:56.890 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 1399.1527ms
2025-12-30 12:26:57.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 12:26:57.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 28.1127ms
2025-12-30 12:26:57.774 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 12:26:57.928 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 154.7834ms
2025-12-30 12:26:59.010 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 12:26:59.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.9382ms
2025-12-30 12:27:51.908 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 12:29:54.875 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 12:29:55.893 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 12:29:55.902 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 12:29:56.122 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 12:29:56.127 +02:00 [INF] Hosting environment: Development
2025-12-30 12:29:56.133 +02:00 [INF] Content root path: E:\WebApiProject\WebApiProject
2025-12-30 12:29:56.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 12:29:57.586 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 970.0674ms
2025-12-30 12:29:57.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 12:29:57.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 12:29:57.653 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 61.8823ms
2025-12-30 12:29:57.725 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.988ms
2025-12-30 12:29:57.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 12:29:57.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.5313ms
2025-12-30 12:30:15.114 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 12:30:31.822 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 12:30:31.900 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 12:30:36.716 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 12:30:37.065 +02:00 [INF] Validating user login for r@r
2025-12-30 12:30:56.230 +02:00 [INF] Executed DbCommand (457ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 12:30:58.216 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21474.8861ms.
2025-12-30 12:30:58.276 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 12:30:58.317 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 26389.5583ms
2025-12-30 12:30:58.329 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 12:30:58.384 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 43272.2753ms
2025-12-30 12:31:42.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Donor - null null
2025-12-30 12:31:50.576 +02:00 [INF] Executing endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:31:51.405 +02:00 [INF] Route matched with {action = "Get", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller DonorController (WebApiProject).
2025-12-30 12:31:54.649 +02:00 [INF] Executing action method DonorController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 12:31:55.641 +02:00 [INF] Fetching all donors
2025-12-30 12:32:01.328 +02:00 [INF] Executed DbCommand (156ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Donors] AS [d]
LEFT JOIN [Gifts] AS [g] ON [d].[Id] = [g].[DonorId]
ORDER BY [d].[Id]
2025-12-30 12:32:01.683 +02:00 [INF] Executed action method DonorController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6119.8113ms.
2025-12-30 12:32:01.703 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.DonorDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 12:32:01.725 +02:00 [INF] Executed action DonorController.Get (WebApiProject) in 8419.4664ms
2025-12-30 12:32:01.738 +02:00 [INF] Executed endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:32:01.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Donor - 200 null application/json; charset=utf-8 19004.6562ms
2025-12-30 12:32:22.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Donor/-8 - null null
2025-12-30 12:32:23.596 +02:00 [INF] Executing endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:32:24.195 +02:00 [INF] Route matched with {action = "Get", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller DonorController (WebApiProject).
2025-12-30 12:32:24.662 +02:00 [INF] Executing action method DonorController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 12:32:24.704 +02:00 [INF] Fetching donor with id -8
2025-12-30 12:32:26.509 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[Name], [t].[Phone], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
    FROM [Donors] AS [d]
    WHERE [d].[Id] = @__id_0
) AS [t]
LEFT JOIN [Gifts] AS [g] ON [t].[Id] = [g].[DonorId]
ORDER BY [t].[Id]
2025-12-30 12:32:26.566 +02:00 [INF] Executed action method DonorController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 1882.7314ms.
2025-12-30 12:32:26.618 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 12:32:26.631 +02:00 [INF] Executed action DonorController.Get (WebApiProject) in 2257.0924ms
2025-12-30 12:32:26.721 +02:00 [INF] Executed endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:32:26.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Donor/-8 - 404 null text/plain; charset=utf-8 4379.6954ms
2025-12-30 12:33:15.985 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 12:33:17.721 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 12:33:17.733 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 12:33:17.986 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 12:33:17.991 +02:00 [INF] Hosting environment: Development
2025-12-30 12:33:17.997 +02:00 [INF] Content root path: E:\WebApiProject\WebApiProject
2025-12-30 12:33:18.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 12:33:19.949 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 1138.063ms
2025-12-30 12:33:19.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 12:33:19.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 12:33:20.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 424.382ms
2025-12-30 12:33:20.735 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 765.992ms
2025-12-30 12:33:20.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 12:33:20.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.5451ms
2025-12-30 12:33:32.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Donor/-8 - null null
2025-12-30 12:33:35.666 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-12-30 12:33:35.830 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 12:33:35.927 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Donor/-8 - 401 null application/json; charset=utf-8 3728.775ms
2025-12-30 12:33:56.809 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 12:33:59.786 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 12:34:00.361 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 12:34:07.253 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 12:34:07.313 +02:00 [INF] Validating user login for r@r
2025-12-30 12:34:11.955 +02:00 [INF] Executed DbCommand (156ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 12:34:14.421 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7149.3712ms.
2025-12-30 12:34:14.452 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 12:34:14.487 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 13589.2217ms
2025-12-30 12:34:14.527 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 12:34:14.567 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 17759.5987ms
2025-12-30 12:34:40.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Donor/-8 - null null
2025-12-30 12:34:44.079 +02:00 [INF] Executing endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:34:44.164 +02:00 [INF] Route matched with {action = "Get", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller DonorController (WebApiProject).
2025-12-30 12:34:44.996 +02:00 [INF] Executing action method DonorController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 12:34:45.473 +02:00 [INF] Executed action method DonorController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 25.2005ms.
2025-12-30 12:34:46.296 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 12:34:46.923 +02:00 [INF] Executed action DonorController.Get (WebApiProject) in 2368.6268ms
2025-12-30 12:34:47.256 +02:00 [INF] Executed endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:34:47.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Donor/-8 - 400 null text/plain; charset=utf-8 7670.3208ms
2025-12-30 12:35:26.996 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 12:35:27.853 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 12:35:27.863 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 12:35:28.078 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 12:35:28.092 +02:00 [INF] Hosting environment: Development
2025-12-30 12:35:28.100 +02:00 [INF] Content root path: E:\WebApiProject\WebApiProject
2025-12-30 12:35:28.878 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 12:35:29.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 12:35:29.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 12:35:29.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 959.2752ms
2025-12-30 12:35:29.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 136.378ms
2025-12-30 12:35:30.023 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 245.5488ms
2025-12-30 12:35:30.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 12:35:30.176 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.5209ms
2025-12-30 12:36:02.467 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Donor/-9 - application/json 171
2025-12-30 12:36:04.891 +02:00 [INF] Executing endpoint 'DonorController.Put (WebApiProject)'
2025-12-30 12:36:05.541 +02:00 [INF] Route matched with {action = "Put", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.DonorDTO) on controller DonorController (WebApiProject).
2025-12-30 12:36:12.648 +02:00 [INF] Executing action method DonorController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 12:36:12.806 +02:00 [INF] Executed action method DonorController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13.0125ms.
2025-12-30 12:36:13.229 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 12:36:13.786 +02:00 [INF] Executed action DonorController.Put (WebApiProject) in 6294.5109ms
2025-12-30 12:36:14.230 +02:00 [INF] Executed endpoint 'DonorController.Put (WebApiProject)'
2025-12-30 12:36:14.365 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Donor/-9 - 400 null text/plain; charset=utf-8 11920.6545ms
2025-12-30 12:36:43.266 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Donor/3 - application/json 91
2025-12-30 12:36:46.171 +02:00 [INF] Executing endpoint 'DonorController.Put (WebApiProject)'
2025-12-30 12:36:46.596 +02:00 [INF] Route matched with {action = "Put", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.DonorDTO) on controller DonorController (WebApiProject).
2025-12-30 12:36:49.169 +02:00 [INF] Executing action method DonorController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 12:36:50.086 +02:00 [INF] Updating donor 3
2025-12-30 12:37:06.756 +02:00 [INF] Executed DbCommand (748ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[Name], [t].[Phone], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
    FROM [Donors] AS [d]
    WHERE [d].[Id] = @__id_0
) AS [t]
LEFT JOIN [Gifts] AS [g] ON [t].[Id] = [g].[DonorId]
ORDER BY [t].[Id]
2025-12-30 12:37:10.929 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donors] SET [Email] = @p0, [Name] = @p1, [Phone] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-30 12:37:11.622 +02:00 [INF] Donor 3 updated successfully
2025-12-30 12:37:12.088 +02:00 [INF] Executed action method DonorController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22085.4552ms.
2025-12-30 12:37:12.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 12:37:12.656 +02:00 [INF] Executed action DonorController.Put (WebApiProject) in 25010.9565ms
2025-12-30 12:37:12.738 +02:00 [INF] Executed endpoint 'DonorController.Put (WebApiProject)'
2025-12-30 12:37:13.983 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Donor/3 - 200 null text/plain; charset=utf-8 30718.5195ms
2025-12-30 12:37:32.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Donor - null null
2025-12-30 12:37:33.122 +02:00 [INF] Executing endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:37:33.514 +02:00 [INF] Route matched with {action = "Get", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller DonorController (WebApiProject).
2025-12-30 12:37:34.368 +02:00 [INF] Executing action method DonorController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 12:37:34.658 +02:00 [INF] Fetching all donors
2025-12-30 12:37:35.561 +02:00 [INF] Executed DbCommand (205ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Donors] AS [d]
LEFT JOIN [Gifts] AS [g] ON [d].[Id] = [g].[DonorId]
ORDER BY [d].[Id]
2025-12-30 12:37:36.407 +02:00 [INF] Executed action method DonorController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1808.9661ms.
2025-12-30 12:37:36.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.DonorDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 12:37:36.666 +02:00 [INF] Executed action DonorController.Get (WebApiProject) in 2692.1727ms
2025-12-30 12:37:36.870 +02:00 [INF] Executed endpoint 'DonorController.Get (WebApiProject)'
2025-12-30 12:37:37.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Donor - 200 null application/json; charset=utf-8 5761.0013ms
2025-12-30 16:15:16.412 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 16:15:17.134 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 16:15:17.141 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 16:15:17.363 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 16:15:17.368 +02:00 [INF] Hosting environment: Development
2025-12-30 16:15:17.374 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 16:15:18.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 16:15:19.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 717.3668ms
2025-12-30 16:15:19.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 16:15:19.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 16:15:19.507 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 29.7172ms
2025-12-30 16:15:19.630 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 152.6686ms
2025-12-30 16:15:19.675 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 16:15:19.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.7559ms
2025-12-30 16:15:36.943 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 16:15:37.205 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 16:15:37.282 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 16:15:38.151 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 16:15:38.397 +02:00 [INF] Validating user login for r@r
2025-12-30 16:15:40.996 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 16:15:41.946 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3779.6141ms.
2025-12-30 16:15:41.975 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 16:15:42.002 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 4703.329ms
2025-12-30 16:15:42.012 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 16:15:42.040 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 5101.2799ms
2025-12-30 16:16:03.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Donor - null null
2025-12-30 16:16:03.755 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-30 16:16:03.854 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-30 16:16:03.875 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-12-30 16:16:03.906 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 16:16:03.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Donor - 401 null application/json; charset=utf-8 244.3439ms
2025-12-30 16:16:23.708 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 16:16:23.810 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:16:23.827 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:16:23.879 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 16:16:23.884 +02:00 [INF] Fetching all shoppings
2025-12-30 16:16:24.063 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 16:16:24.161 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 278.8388ms.
2025-12-30 16:16:24.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 16:16:24.177 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 342.1213ms
2025-12-30 16:16:24.183 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:16:24.189 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 482.8125ms
2025-12-30 16:16:39.521 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 63
2025-12-30 16:16:39.539 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:16:39.551 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:16:39.605 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 16:16:39.615 +02:00 [INF] Fetching user 2147483647
2025-12-30 16:16:39.755 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 16:16:39.777 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 166.2768ms.
2025-12-30 16:16:39.784 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 16:16:39.790 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 231.9037ms
2025-12-30 16:16:39.795 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:16:39.798 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 404 null text/plain; charset=utf-8 277.7906ms
2025-12-30 16:16:57.667 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 54
2025-12-30 16:16:57.682 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:16:57.691 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:16:57.748 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 16:16:57.755 +02:00 [INF] Fetching user 1
2025-12-30 16:16:57.780 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 16:16:57.797 +02:00 [INF] Fetching gift 2147483647
2025-12-30 16:16:57.869 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 16:16:57.878 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 123.5949ms.
2025-12-30 16:16:57.883 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 16:16:57.887 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 187.0059ms
2025-12-30 16:16:57.890 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:16:57.894 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 404 null text/plain; charset=utf-8 228.4686ms
2025-12-30 16:17:08.577 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 54
2025-12-30 16:17:08.593 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:17:08.601 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:17:08.670 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 16:17:08.678 +02:00 [INF] Fetching user 6
2025-12-30 16:17:08.716 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 16:17:08.722 +02:00 [INF] Fetching gift 2147483647
2025-12-30 16:17:08.737 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 16:17:08.748 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 70.0999ms.
2025-12-30 16:17:08.754 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 16:17:08.761 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 147.4779ms
2025-12-30 16:17:08.766 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:17:08.771 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 404 null text/plain; charset=utf-8 195.5369ms
2025-12-30 16:17:15.214 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 45
2025-12-30 16:17:15.224 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:17:15.227 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:17:15.270 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 16:17:15.278 +02:00 [INF] Fetching user 6
2025-12-30 16:17:15.293 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 16:17:15.303 +02:00 [INF] Fetching gift 4
2025-12-30 16:17:15.311 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 16:17:15.319 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 41.6567ms.
2025-12-30 16:17:15.325 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 16:17:15.329 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 98.8659ms
2025-12-30 16:17:15.335 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 16:17:15.339 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 404 null text/plain; charset=utf-8 125.6662ms
2025-12-30 16:17:27.585 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping/-9 - null null
2025-12-30 16:17:27.604 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:17:27.622 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:17:27.669 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 16:17:27.675 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.5953ms.
2025-12-30 16:17:27.681 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 16:17:27.684 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 53.6257ms
2025-12-30 16:17:27.689 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:17:27.691 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping/-9 - 400 null text/plain; charset=utf-8 107.5911ms
2025-12-30 16:17:34.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping/6 - null null
2025-12-30 16:17:34.440 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:17:34.447 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:17:34.492 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 16:17:34.499 +02:00 [INF] Fetching shopping 6
2025-12-30 16:17:34.535 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 16:17:34.544 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 47.5074ms.
2025-12-30 16:17:34.549 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 16:17:34.553 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 99.5612ms
2025-12-30 16:17:34.558 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:17:34.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping/6 - 404 null text/plain; charset=utf-8 149.2379ms
2025-12-30 16:17:40.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping/2 - null null
2025-12-30 16:17:40.127 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:17:40.138 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:17:40.185 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 16:17:40.192 +02:00 [INF] Fetching shopping 2
2025-12-30 16:17:40.206 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 16:17:40.218 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.4568ms.
2025-12-30 16:17:40.225 +02:00 [INF] Executing OkObjectResult, writing value of type 'WebApiProject.Models.DTO.ShoppingDTO'.
2025-12-30 16:17:40.231 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 81.61ms
2025-12-30 16:17:40.237 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:17:40.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping/2 - 200 null application/json; charset=utf-8 133.091ms
2025-12-30 16:18:11.788 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/6 - application/json 61
2025-12-30 16:18:11.804 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:18:11.821 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:18:11.876 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 16:18:11.928 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 16:18:11.940 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 56.4064ms.
2025-12-30 16:18:11.944 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 16:18:11.950 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 113.2348ms
2025-12-30 16:18:11.974 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:18:11.979 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/6 - 400 null text/plain; charset=utf-8 202.9724ms
2025-12-30 16:18:28.951 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/1 - application/json 61
2025-12-30 16:18:28.971 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:18:28.976 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:18:29.017 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 16:18:29.030 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 16:18:29.037 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 14.0675ms.
2025-12-30 16:18:29.042 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 16:18:29.046 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 63.7091ms
2025-12-30 16:18:29.050 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:18:29.054 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/1 - 400 null text/plain; charset=utf-8 104.593ms
2025-12-30 16:27:12.128 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 16:27:12.584 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 16:27:12.589 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 16:27:12.676 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 16:27:12.682 +02:00 [INF] Hosting environment: Development
2025-12-30 16:27:12.685 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 16:27:13.225 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 16:27:13.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 661.5709ms
2025-12-30 16:27:13.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 16:27:13.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 16:27:14.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 70.988ms
2025-12-30 16:27:14.125 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 162.4561ms
2025-12-30 16:27:14.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 16:27:14.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.6269ms
2025-12-30 16:27:59.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 16:27:59.846 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:27:59.900 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:28:00.602 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 16:28:00.612 +02:00 [INF] Fetching all shoppings
2025-12-30 16:28:03.476 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 16:28:03.767 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3149.6283ms.
2025-12-30 16:28:03.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 16:28:03.820 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 3896.63ms
2025-12-30 16:28:03.825 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:28:03.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 4442.7654ms
2025-12-30 16:28:15.763 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/10 - application/json 61
2025-12-30 16:28:15.781 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:28:15.821 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:28:15.912 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 16:28:16.121 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 16:28:16.135 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 218.3757ms.
2025-12-30 16:28:16.141 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 16:28:16.148 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 314.634ms
2025-12-30 16:28:16.154 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:28:16.158 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/10 - 400 null text/plain; charset=utf-8 395.6617ms
2025-12-30 16:29:18.096 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 16:29:18.311 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 16:29:18.317 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 16:29:18.397 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 16:29:18.399 +02:00 [INF] Hosting environment: Development
2025-12-30 16:29:18.401 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 16:29:18.735 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 16:29:18.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 217.6348ms
2025-12-30 16:29:18.970 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 16:29:18.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 16:29:18.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 24.6906ms
2025-12-30 16:29:19.021 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.6155ms
2025-12-30 16:29:19.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 16:29:19.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.7178ms
2025-12-30 16:29:39.259 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/10 - application/json 61
2025-12-30 16:29:39.389 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:29:39.422 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:29:41.040 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 16:29:41.107 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 16:29:41.123 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 1686.2857ms
2025-12-30 16:29:41.133 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:29:41.156 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/10 - 400 null text/plain; charset=utf-8 1896.8816ms
2025-12-30 16:29:47.993 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/1 - application/json 61
2025-12-30 16:29:48.018 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:29:48.024 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:29:48.077 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 16:29:48.090 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 16:29:48.096 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 63.3017ms
2025-12-30 16:29:48.102 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 16:29:48.106 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/1 - 400 null text/plain; charset=utf-8 113.1977ms
2025-12-30 16:40:09.730 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 16:40:10.342 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 16:40:10.347 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 16:40:10.458 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 16:40:10.463 +02:00 [INF] Hosting environment: Development
2025-12-30 16:40:10.466 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 16:40:11.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 16:40:12.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 820.0767ms
2025-12-30 16:40:12.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 16:40:12.115 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 16:40:12.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 16.2451ms
2025-12-30 16:40:12.702 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 587.1636ms
2025-12-30 16:40:12.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 16:40:12.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.9858ms
2025-12-30 16:40:43.524 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 16:40:43.771 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:40:43.799 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 16:40:44.465 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 16:40:44.476 +02:00 [INF] Fetching all shoppings
2025-12-30 16:40:46.505 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 16:40:46.842 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2367.844ms.
2025-12-30 16:40:46.852 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 16:40:46.863 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 3052.396ms
2025-12-30 16:40:46.866 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 16:40:46.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 3360.3279ms
2025-12-30 16:56:05.364 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 16:56:05.607 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 16:56:05.611 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 16:56:05.668 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 16:56:05.678 +02:00 [INF] Hosting environment: Development
2025-12-30 16:56:05.684 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 16:56:06.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 16:56:06.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 238.4443ms
2025-12-30 16:56:06.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 16:56:06.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 16:56:06.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 23.1442ms
2025-12-30 16:56:06.363 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.6502ms
2025-12-30 16:56:06.395 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 16:56:06.418 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApiProject.Controllers.ShoppingController.Put (WebApiProject). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`4 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-30 16:56:06.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 38.1594ms
2025-12-30 16:57:51.962 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 16:57:52.495 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 16:57:52.500 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 16:57:52.573 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 16:57:52.579 +02:00 [INF] Hosting environment: Development
2025-12-30 16:57:52.581 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 16:57:52.942 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 16:57:53.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 16:57:53.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 16:57:53.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 477.1737ms
2025-12-30 16:57:53.464 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 59.2519ms
2025-12-30 16:57:53.523 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.1479ms
2025-12-30 16:57:53.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 16:57:53.670 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.9621ms
2025-12-30 16:58:17.314 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 16:58:17.459 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-12-30 16:58:17.478 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 16:58:17.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 401 null application/json; charset=utf-8 170.2787ms
2025-12-30 17:00:42.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Gift - null null
2025-12-30 17:00:42.378 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-30 17:00:42.384 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 17:00:42.389 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Gift - 401 null application/json; charset=utf-8 60.0718ms
2025-12-30 17:00:58.971 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/100 - application/json 61
2025-12-30 17:00:58.995 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-30 17:00:58.999 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 17:00:59.004 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/100 - 401 null application/json; charset=utf-8 33.1817ms
2025-12-30 17:01:20.016 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 17:01:20.039 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 17:01:20.089 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 17:01:20.858 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 17:01:20.890 +02:00 [INF] Validating user login for r@r
2025-12-30 17:01:23.030 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 17:01:23.726 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2858.7031ms.
2025-12-30 17:01:23.735 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 17:01:23.743 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 3635.8178ms
2025-12-30 17:01:23.747 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 17:01:23.756 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 3740.0727ms
2025-12-30 17:01:50.560 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/100 - application/json 61
2025-12-30 17:01:50.646 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:01:50.661 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:01:50.720 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:01:50.732 +02:00 [INF] Fetching shopping 100
2025-12-30 17:01:50.918 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:01:50.947 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 221.9848ms.
2025-12-30 17:01:50.956 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:01:50.961 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 293.6411ms
2025-12-30 17:01:50.967 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:01:50.978 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/100 - 404 null text/plain; charset=utf-8 417.4176ms
2025-12-30 17:02:01.570 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/-9 - application/json 61
2025-12-30 17:02:01.604 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:02:01.609 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:02:01.659 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:02:01.664 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.3921ms.
2025-12-30 17:02:01.668 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 17:02:01.673 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 55.8129ms
2025-12-30 17:02:01.677 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:02:01.680 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/-9 - 400 null text/plain; charset=utf-8 110.8189ms
2025-12-30 17:02:10.644 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/1 - application/json 61
2025-12-30 17:02:10.652 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:02:10.655 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:02:10.702 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:02:10.708 +02:00 [INF] Fetching shopping 1
2025-12-30 17:02:10.961 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:02:10.974 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 265.7446ms.
2025-12-30 17:02:10.984 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:02:10.994 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 333.4598ms
2025-12-30 17:02:11.007 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:02:11.019 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/1 - 404 null text/plain; charset=utf-8 374.7566ms
2025-12-30 17:02:45.470 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/2 - application/json 61
2025-12-30 17:02:45.492 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:02:45.498 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:02:45.546 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:02:45.551 +02:00 [INF] Fetching shopping 2
2025-12-30 17:02:45.577 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:02:45.671 +02:00 [INF] Fetching gift 2147483647
2025-12-30 17:02:45.829 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:02:45.838 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 287.2413ms.
2025-12-30 17:02:45.844 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:02:45.848 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 335.9311ms
2025-12-30 17:02:45.876 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:02:45.880 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/2 - 404 null text/plain; charset=utf-8 428.0798ms
2025-12-30 17:03:08.856 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/2 - application/json 52
2025-12-30 17:03:08.890 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:03:08.893 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:03:08.935 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:03:08.941 +02:00 [INF] Fetching shopping 2
2025-12-30 17:03:08.982 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:03:08.991 +02:00 [INF] Fetching gift 1
2025-12-30 17:03:09.008 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:03:09.050 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:03:09.070 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 129.2879ms.
2025-12-30 17:03:09.078 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 17:03:09.080 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 179.1256ms
2025-12-30 17:03:09.084 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:03:09.087 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/2 - 400 null text/plain; charset=utf-8 233.2745ms
2025-12-30 17:05:18.702 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 17:05:19.389 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 17:05:19.394 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 17:05:19.532 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 17:05:19.537 +02:00 [INF] Hosting environment: Development
2025-12-30 17:05:19.541 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 17:05:20.135 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 17:05:20.569 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 17:05:20.569 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 17:05:20.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 441.8414ms
2025-12-30 17:05:20.608 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 39.0466ms
2025-12-30 17:05:20.658 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.3446ms
2025-12-30 17:05:20.690 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 17:05:20.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.1715ms
2025-12-30 17:05:38.968 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/100 - application/json 61
2025-12-30 17:05:39.292 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:05:39.354 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:05:40.221 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:05:40.237 +02:00 [INF] Fetching shopping 100
2025-12-30 17:05:42.695 +02:00 [INF] Executed DbCommand (175ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:05:42.783 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 2546.2129ms.
2025-12-30 17:05:42.806 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:05:42.826 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 3452.1347ms
2025-12-30 17:05:42.839 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:05:42.871 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/100 - 404 null text/plain; charset=utf-8 3904.7333ms
2025-12-30 17:05:54.123 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/100 - application/json 54
2025-12-30 17:05:54.156 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:05:54.164 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:05:54.224 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:05:54.228 +02:00 [INF] Fetching shopping 100
2025-12-30 17:05:54.292 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:05:54.302 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 74.3211ms.
2025-12-30 17:05:54.308 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:05:54.313 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 136.1715ms
2025-12-30 17:05:54.319 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:05:54.324 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/100 - 404 null text/plain; charset=utf-8 200.7605ms
2025-12-30 17:06:04.706 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/2 - application/json 54
2025-12-30 17:06:04.735 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:06:04.741 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:06:04.793 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:06:04.798 +02:00 [INF] Fetching shopping 2
2025-12-30 17:06:04.899 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:06:05.016 +02:00 [INF] Fetching user 222
2025-12-30 17:06:05.028 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 17:06:05.031 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 233.4529ms.
2025-12-30 17:06:05.034 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:06:05.035 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 288.441ms
2025-12-30 17:06:05.038 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:06:05.039 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/2 - 404 null text/plain; charset=utf-8 334.2644ms
2025-12-30 17:06:54.271 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/2 - application/json 52
2025-12-30 17:06:54.294 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:06:54.300 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:06:54.347 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:06:54.356 +02:00 [INF] Fetching shopping 2
2025-12-30 17:06:54.384 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:06:54.395 +02:00 [INF] Fetching user 7
2025-12-30 17:06:54.403 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 17:06:54.413 +02:00 [INF] Fetching gift 2147483647
2025-12-30 17:06:54.511 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:06:54.530 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 173.3473ms.
2025-12-30 17:06:54.536 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:06:54.540 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 235.9394ms
2025-12-30 17:06:54.545 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:06:54.549 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/2 - 404 null text/plain; charset=utf-8 277.7819ms
2025-12-30 17:07:05.648 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/2 - application/json 43
2025-12-30 17:07:05.663 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:07:05.670 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:07:05.719 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:07:05.726 +02:00 [INF] Fetching shopping 2
2025-12-30 17:07:05.742 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:07:05.763 +02:00 [INF] Fetching user 7
2025-12-30 17:07:05.777 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 17:07:05.791 +02:00 [INF] Fetching gift 2
2025-12-30 17:07:05.799 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:07:05.841 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:07:05.851 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 124.6433ms.
2025-12-30 17:07:05.857 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 17:07:05.863 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 183.6741ms
2025-12-30 17:07:05.868 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:07:05.873 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/2 - 400 null text/plain; charset=utf-8 225.4949ms
2025-12-30 17:08:00.455 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 17:08:00.936 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 17:08:00.941 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 17:08:01.028 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 17:08:01.032 +02:00 [INF] Hosting environment: Development
2025-12-30 17:08:01.036 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 17:08:01.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 17:08:02.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 584.7705ms
2025-12-30 17:08:02.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 17:08:02.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 17:08:02.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 37.2478ms
2025-12-30 17:08:02.640 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 194.085ms
2025-12-30 17:08:02.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 17:08:02.803 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.2861ms
2025-12-30 17:09:57.835 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 17:09:58.265 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 17:09:58.270 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 17:09:58.331 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 17:09:58.335 +02:00 [INF] Hosting environment: Development
2025-12-30 17:09:58.338 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 17:09:58.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 17:09:59.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 494.6371ms
2025-12-30 17:09:59.325 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 17:09:59.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 17:09:59.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 109.7787ms
2025-12-30 17:09:59.512 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 187.6552ms
2025-12-30 17:09:59.554 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 17:09:59.619 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.5927ms
2025-12-30 17:10:32.966 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/4 - application/json 45
2025-12-30 17:10:33.338 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:10:33.410 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:10:34.371 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:10:34.382 +02:00 [INF] Fetching shopping 4
2025-12-30 17:10:37.551 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:10:37.872 +02:00 [INF] Fetching user 7
2025-12-30 17:10:37.918 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 17:10:37.938 +02:00 [INF] Fetching gift 3
2025-12-30 17:10:38.110 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:10:38.142 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 3757.2178ms.
2025-12-30 17:10:38.169 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:10:38.185 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 4752.6628ms
2025-12-30 17:10:38.191 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:10:38.211 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/4 - 404 null text/plain; charset=utf-8 5246.5791ms
2025-12-30 17:11:02.765 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/4 - application/json 45
2025-12-30 17:11:02.806 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:11:02.811 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:11:02.897 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:11:02.903 +02:00 [INF] Fetching shopping 4
2025-12-30 17:11:02.957 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:11:02.969 +02:00 [INF] Fetching user 7
2025-12-30 17:11:02.980 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 17:11:02.991 +02:00 [INF] Fetching gift 1
2025-12-30 17:11:03.005 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:11:03.062 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:11:03.077 +02:00 [INF] Fetching gift 1
2025-12-30 17:11:03.093 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:11:03.466 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Shoppings] SET [GiftId] = @p0, [IsDraft] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-30 17:11:03.515 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 612.1688ms.
2025-12-30 17:11:03.529 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 17:11:03.538 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 720.9521ms
2025-12-30 17:11:03.548 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:11:03.565 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/4 - 200 null text/plain; charset=utf-8 799.433ms
2025-12-30 17:11:19.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 17:11:19.435 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 17:11:19.457 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:11:19.514 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 17:11:19.522 +02:00 [INF] Fetching all shoppings
2025-12-30 17:11:19.754 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 17:11:19.798 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 279.4817ms.
2025-12-30 17:11:19.808 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 17:11:19.821 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 353.9749ms
2025-12-30 17:11:19.829 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 17:11:19.833 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 434.0883ms
2025-12-30 17:11:38.266 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7164/api/Shopping/3 - application/json 45
2025-12-30 17:11:38.277 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:11:38.283 +02:00 [INF] Route matched with {action = "Put", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:11:38.335 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject) - Validation state: "Valid"
2025-12-30 17:11:38.339 +02:00 [INF] Fetching shopping 3
2025-12-30 17:11:38.350 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:11:38.358 +02:00 [INF] Fetching user 7
2025-12-30 17:11:38.364 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 17:11:38.370 +02:00 [INF] Fetching gift 1
2025-12-30 17:11:38.377 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 17:11:38.389 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:11:38.399 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Put (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 59.5384ms.
2025-12-30 17:11:38.407 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 17:11:38.416 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Put (WebApiProject) in 123.4653ms
2025-12-30 17:11:38.423 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Put (WebApiProject)'
2025-12-30 17:11:38.427 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7164/api/Shopping/3 - 400 null text/plain; charset=utf-8 161.6013ms
2025-12-30 17:11:53.635 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7164/api/Shopping/5 - null null
2025-12-30 17:11:53.676 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Delete (WebApiProject)'
2025-12-30 17:11:53.696 +02:00 [INF] Route matched with {action = "Delete", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:11:53.761 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Delete (WebApiProject) - Validation state: "Valid"
2025-12-30 17:11:53.767 +02:00 [INF] Fetching shopping 5
2025-12-30 17:11:53.781 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:11:53.785 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Delete (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 19.2177ms.
2025-12-30 17:11:53.787 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 17:11:53.789 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Delete (WebApiProject) in 59.6966ms
2025-12-30 17:11:53.791 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Delete (WebApiProject)'
2025-12-30 17:11:53.792 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7164/api/Shopping/5 - 404 null text/plain; charset=utf-8 158.2433ms
2025-12-30 17:12:05.806 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7164/api/Shopping/2 - null null
2025-12-30 17:12:05.833 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Delete (WebApiProject)'
2025-12-30 17:12:05.841 +02:00 [INF] Route matched with {action = "Delete", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:12:05.889 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Delete (WebApiProject) - Validation state: "Valid"
2025-12-30 17:12:05.894 +02:00 [INF] Fetching shopping 2
2025-12-30 17:12:05.936 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:12:05.953 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:12:05.959 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Delete (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 65.2468ms.
2025-12-30 17:12:05.965 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 17:12:05.970 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Delete (WebApiProject) in 118.4596ms
2025-12-30 17:12:05.974 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Delete (WebApiProject)'
2025-12-30 17:12:05.979 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7164/api/Shopping/2 - 400 null text/plain; charset=utf-8 174.2069ms
2025-12-30 17:12:12.708 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7164/api/Shopping/4 - null null
2025-12-30 17:12:12.735 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Delete (WebApiProject)'
2025-12-30 17:12:12.742 +02:00 [INF] Route matched with {action = "Delete", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:12:12.800 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Delete (WebApiProject) - Validation state: "Valid"
2025-12-30 17:12:12.808 +02:00 [INF] Fetching shopping 4
2025-12-30 17:12:12.838 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:12:12.862 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:12:12.901 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 17:12:12.941 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Shoppings]
OUTPUT 1
WHERE [Id] = @p0;
2025-12-30 17:12:12.968 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Delete (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 159.5595ms.
2025-12-30 17:12:12.980 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 17:12:12.990 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Delete (WebApiProject) in 238.4456ms
2025-12-30 17:12:12.998 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Delete (WebApiProject)'
2025-12-30 17:12:13.003 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7164/api/Shopping/4 - 200 null text/plain; charset=utf-8 296.7981ms
2025-12-30 17:12:24.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 17:12:24.719 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 17:12:24.724 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 17:12:24.761 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 17:12:24.765 +02:00 [INF] Fetching all shoppings
2025-12-30 17:12:24.778 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 17:12:24.786 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.8487ms.
2025-12-30 17:12:24.793 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 17:12:24.799 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 67.8684ms
2025-12-30 17:12:24.805 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 17:12:24.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 106.5103ms
2025-12-30 18:04:40.919 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 18:04:41.558 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 18:04:41.564 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 18:04:41.643 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 18:04:41.647 +02:00 [INF] Hosting environment: Development
2025-12-30 18:04:41.653 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 18:04:43.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 18:04:43.557 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 440.9926ms
2025-12-30 18:04:43.590 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 18:04:43.600 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 18:04:43.613 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 23.1647ms
2025-12-30 18:04:43.690 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.5061ms
2025-12-30 18:04:43.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 18:04:43.889 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.4454ms
2025-12-30 18:05:01.623 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/User - null null
2025-12-30 18:05:01.807 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-12-30 18:05:01.818 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 18:05:01.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/User - 401 null application/json; charset=utf-8 201.3607ms
2025-12-30 18:05:57.370 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/User - application/json 100
2025-12-30 18:05:57.422 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:05:57.468 +02:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.UserDTO) on controller WebApiProject.Controllers.UserController (WebApiProject).
2025-12-30 18:05:58.092 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 18:05:58.118 +02:00 [INF] Executed action WebApiProject.Controllers.UserController.Post (WebApiProject) in 635.3369ms
2025-12-30 18:05:58.127 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:05:58.134 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/User - 400 null application/json; charset=utf-8 765.0552ms
2025-12-30 18:06:12.861 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/User - application/json 103
2025-12-30 18:06:12.884 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:06:12.890 +02:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.UserDTO) on controller WebApiProject.Controllers.UserController (WebApiProject).
2025-12-30 18:06:12.916 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 18:06:12.923 +02:00 [INF] Executed action WebApiProject.Controllers.UserController.Post (WebApiProject) in 25.4009ms
2025-12-30 18:06:12.929 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:06:12.935 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/User - 400 null application/json; charset=utf-8 75.5043ms
2025-12-30 18:06:26.086 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/User - application/json 105
2025-12-30 18:06:26.097 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:06:26.099 +02:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.UserDTO) on controller WebApiProject.Controllers.UserController (WebApiProject).
2025-12-30 18:06:26.103 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 18:06:26.108 +02:00 [INF] Executed action WebApiProject.Controllers.UserController.Post (WebApiProject) in 7.8375ms
2025-12-30 18:06:26.111 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:06:26.114 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/User - 400 null application/json; charset=utf-8 28.743ms
2025-12-30 18:06:43.642 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/User - application/json 103
2025-12-30 18:06:43.652 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:06:43.657 +02:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.UserDTO) on controller WebApiProject.Controllers.UserController (WebApiProject).
2025-12-30 18:06:43.845 +02:00 [INF] Executing action method WebApiProject.Controllers.UserController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 18:06:43.864 +02:00 [INF] Adding user with email a@a
2025-12-30 18:06:46.688 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-30 18:06:47.354 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [PasswordHash], [Phone], [Role], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-12-30 18:06:47.426 +02:00 [INF] User added successfully
2025-12-30 18:06:47.447 +02:00 [INF] Executed action method WebApiProject.Controllers.UserController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkResult in 3585.3049ms.
2025-12-30 18:06:47.487 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-30 18:06:47.499 +02:00 [INF] Executed action WebApiProject.Controllers.UserController.Post (WebApiProject) in 3834.0011ms
2025-12-30 18:06:47.514 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:06:47.553 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/User - 200 0 null 3911.0881ms
2025-12-30 18:07:13.718 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 48
2025-12-30 18:07:13.755 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 18:07:13.769 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 18:07:13.834 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 18:07:13.845 +02:00 [INF] Validating user login for ahuvi@a
2025-12-30 18:07:13.979 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 18:07:13.987 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 145.595ms.
2025-12-30 18:07:13.990 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-12-30 18:07:13.993 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 216.8775ms
2025-12-30 18:07:13.995 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 18:07:13.998 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 401 null text/plain; charset=utf-8 280.4371ms
2025-12-30 18:07:26.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/User - null null
2025-12-30 18:07:26.083 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-12-30 18:07:26.092 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 18:07:26.101 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/User - 401 null application/json; charset=utf-8 43.3771ms
2025-12-30 18:08:48.370 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 44
2025-12-30 18:08:48.394 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 18:08:48.398 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 18:08:48.440 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 18:08:48.445 +02:00 [INF] Validating user login for a@a
2025-12-30 18:08:48.562 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 18:08:48.921 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 476.8671ms.
2025-12-30 18:08:48.926 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 18:08:48.931 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 527.3687ms
2025-12-30 18:08:48.953 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 18:08:48.959 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 590.2865ms
2025-12-30 18:09:12.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/User - null null
2025-12-30 18:09:12.258 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-12-30 18:09:12.268 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-30 18:09:12.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/User - 403 null application/json; charset=utf-8 147.6897ms
2025-12-30 18:11:25.127 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/User - application/json 97
2025-12-30 18:11:25.167 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:11:25.171 +02:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.UserDTO) on controller WebApiProject.Controllers.UserController (WebApiProject).
2025-12-30 18:11:25.180 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 18:11:25.186 +02:00 [INF] Executed action WebApiProject.Controllers.UserController.Post (WebApiProject) in 7.4763ms
2025-12-30 18:11:25.212 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:11:25.218 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/User - 400 null application/json; charset=utf-8 90.8982ms
2025-12-30 18:23:15.113 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 18:23:15.777 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 18:23:15.783 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 18:23:15.954 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 18:23:15.956 +02:00 [INF] Hosting environment: Development
2025-12-30 18:23:15.960 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 18:23:17.387 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 18:23:17.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 496.6337ms
2025-12-30 18:23:17.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 18:23:17.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 18:23:17.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 65.4766ms
2025-12-30 18:23:18.194 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 296.9747ms
2025-12-30 18:23:18.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 18:23:18.303 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.5076ms
2025-12-30 18:24:28.688 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/User - application/json 113
2025-12-30 18:24:28.892 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:24:28.935 +02:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.UserDTO) on controller WebApiProject.Controllers.UserController (WebApiProject).
2025-12-30 18:24:29.539 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 18:24:29.556 +02:00 [INF] Executed action WebApiProject.Controllers.UserController.Post (WebApiProject) in 608.2362ms
2025-12-30 18:24:29.559 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:24:29.566 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/User - 400 null application/json; charset=utf-8 878.1753ms
2025-12-30 18:24:42.489 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/User - application/json 113
2025-12-30 18:24:42.537 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:24:42.581 +02:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.UserDTO) on controller WebApiProject.Controllers.UserController (WebApiProject).
2025-12-30 18:24:42.755 +02:00 [INF] Executing action method WebApiProject.Controllers.UserController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 18:24:42.792 +02:00 [INF] Adding user with email user@example.com
2025-12-30 18:24:45.582 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-30 18:24:45.663 +02:00 [WRN] Email already exists: user@example.com
2025-12-30 18:24:46.134 +02:00 [INF] Executed action WebApiProject.Controllers.UserController.Post (WebApiProject) in 3540.9233ms
2025-12-30 18:24:46.143 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.UserController.Post (WebApiProject)'
2025-12-30 18:24:46.152 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Email already exists
   at WebApiProject.BLL.UserBLLService.Add(UserDTO userDTO) in C:\Users\user1\Desktop\WebApiProject\WebApiProject\BLL\UserBLLService.cs:line 64
   at WebApiProject.Controllers.UserController.Post(UserDTO userDTO) in C:\Users\user1\Desktop\WebApiProject\WebApiProject\Controllers\UserController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-30 18:24:46.286 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/User - 400 null application/json; charset=utf-8 3798.7884ms
2025-12-30 18:42:29.754 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 18:42:30.374 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 18:42:30.378 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 18:42:30.536 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 18:42:30.547 +02:00 [INF] Hosting environment: Development
2025-12-30 18:42:30.551 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 18:42:31.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 18:42:31.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 483.126ms
2025-12-30 18:42:31.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 18:42:31.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 18:42:31.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 27.5358ms
2025-12-30 18:42:31.874 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.5778ms
2025-12-30 18:42:32.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 18:42:32.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.0816ms
2025-12-30 19:41:32.273 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 19:41:33.064 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 19:41:33.069 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 19:41:33.220 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 19:41:33.226 +02:00 [INF] Hosting environment: Development
2025-12-30 19:41:33.234 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 19:41:35.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 19:41:36.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 1242.5807ms
2025-12-30 19:41:36.528 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 19:41:36.528 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 19:41:36.611 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 83.4823ms
2025-12-30 19:41:36.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 201.9207ms
2025-12-30 19:41:36.818 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 19:41:36.951 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 135.7304ms
2025-12-30 19:41:56.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 19:41:56.603 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 19:41:56.712 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 19:41:57.960 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 19:41:58.025 +02:00 [INF] Validating user login for r@r
2025-12-30 19:42:02.278 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 19:42:04.266 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6281.1825ms.
2025-12-30 19:42:04.295 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 19:42:04.325 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 7562.6103ms
2025-12-30 19:42:04.335 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 19:42:04.367 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 8017.8463ms
2025-12-30 19:42:32.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Gift - null null
2025-12-30 19:42:32.313 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.GiftController.Get (WebApiProject)'
2025-12-30 19:42:32.335 +02:00 [INF] Route matched with {action = "Get", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.GiftController (WebApiProject).
2025-12-30 19:42:32.421 +02:00 [INF] Executing action method WebApiProject.Controllers.GiftController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 19:42:32.436 +02:00 [INF] Fetching all gifts
2025-12-30 19:42:33.098 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id], [d].[Email], [d].[Name], [d].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM [Gifts] AS [g]
INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
LEFT JOIN [Shoppings] AS [s] ON [g].[Id] = [s].[GiftId]
ORDER BY [g].[Id], [d].[Id]
2025-12-30 19:42:33.387 +02:00 [INF] Executed action method WebApiProject.Controllers.GiftController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 958.2736ms.
2025-12-30 19:42:33.400 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.GiftDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 19:42:33.424 +02:00 [INF] Executed action WebApiProject.Controllers.GiftController.Get (WebApiProject) in 1078.8383ms
2025-12-30 19:42:33.436 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.GiftController.Get (WebApiProject)'
2025-12-30 19:42:33.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Gift - 200 null application/json; charset=utf-8 1359.5629ms
2025-12-30 19:42:56.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 19:42:56.059 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 19:42:56.086 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 19:42:56.164 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 19:42:56.174 +02:00 [INF] Fetching all shoppings
2025-12-30 19:42:56.469 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 19:42:56.519 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 349.6509ms.
2025-12-30 19:42:56.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 19:42:56.547 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 445.5602ms
2025-12-30 19:42:56.557 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 19:42:56.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 545.0613ms
2025-12-30 19:49:30.366 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 19:49:31.198 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 19:49:31.205 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 19:49:31.453 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 19:49:31.457 +02:00 [INF] Hosting environment: Development
2025-12-30 19:49:31.462 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 19:49:32.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 19:49:33.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 1363.7569ms
2025-12-30 19:49:33.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 19:49:33.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 19:49:33.388 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 47.2664ms
2025-12-30 19:49:33.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 179.6363ms
2025-12-30 19:49:33.583 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 19:49:33.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.6191ms
2025-12-30 19:49:51.293 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 19:49:51.536 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 19:49:51.634 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 19:49:52.858 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 19:49:52.917 +02:00 [INF] Validating user login for r@r
2025-12-30 19:49:57.270 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 19:49:59.246 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6365.3097ms.
2025-12-30 19:49:59.281 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 19:49:59.318 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 7654.432ms
2025-12-30 19:49:59.353 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 19:49:59.388 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 8096.5889ms
2025-12-30 19:50:20.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 19:50:21.029 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 19:50:21.051 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 19:50:21.126 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 19:50:21.138 +02:00 [INF] Fetching all shoppings
2025-12-30 19:50:21.627 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 19:50:21.832 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 700.7321ms.
2025-12-30 19:50:21.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 19:50:21.865 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 802.0641ms
2025-12-30 19:50:21.880 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 19:50:21.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 1089.5043ms
2025-12-30 19:50:30.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Gift - null null
2025-12-30 19:50:30.613 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.GiftController.Get (WebApiProject)'
2025-12-30 19:50:30.633 +02:00 [INF] Route matched with {action = "Get", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.GiftController (WebApiProject).
2025-12-30 19:50:30.712 +02:00 [INF] Executing action method WebApiProject.Controllers.GiftController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 19:50:30.724 +02:00 [INF] Fetching all gifts
2025-12-30 19:50:31.120 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id], [d].[Email], [d].[Name], [d].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM [Gifts] AS [g]
INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
LEFT JOIN [Shoppings] AS [s] ON [g].[Id] = [s].[GiftId]
ORDER BY [g].[Id], [d].[Id]
2025-12-30 19:50:31.208 +02:00 [INF] Executed action method WebApiProject.Controllers.GiftController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 490.0027ms.
2025-12-30 19:50:31.216 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.GiftDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 19:50:31.230 +02:00 [INF] Executed action WebApiProject.Controllers.GiftController.Get (WebApiProject) in 585.2142ms
2025-12-30 19:50:31.239 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.GiftController.Get (WebApiProject)'
2025-12-30 19:50:31.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Gift - 200 null application/json; charset=utf-8 666.1886ms
2025-12-30 20:04:46.880 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 20:04:47.742 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 20:04:47.746 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 20:04:47.890 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 20:04:47.895 +02:00 [INF] Hosting environment: Development
2025-12-30 20:04:47.900 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 20:04:48.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 20:04:49.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 907.534ms
2025-12-30 20:04:49.758 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 20:04:49.759 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 20:04:49.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 89.1266ms
2025-12-30 20:04:49.970 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 214.9676ms
2025-12-30 20:04:50.055 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 20:04:50.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.1965ms
2025-12-30 20:05:02.514 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 20:05:03.420 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 20:05:03.426 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 20:05:03.603 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 20:05:03.610 +02:00 [INF] Hosting environment: Development
2025-12-30 20:05:03.615 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 20:05:04.746 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 20:05:05.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 942.2524ms
2025-12-30 20:05:05.876 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 20:05:05.903 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 20:05:05.911 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 35.0851ms
2025-12-30 20:05:06.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 179.4631ms
2025-12-30 20:05:06.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 20:05:06.524 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.7018ms
2025-12-30 20:05:24.644 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 20:05:24.883 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 20:05:24.995 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 20:05:26.168 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 20:05:26.218 +02:00 [INF] Validating user login for r@r
2025-12-30 20:05:30.212 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 20:05:32.131 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5944.0872ms.
2025-12-30 20:05:32.156 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 20:05:32.193 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 7160.9613ms
2025-12-30 20:05:32.208 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 20:05:32.241 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 7597.4924ms
2025-12-30 20:05:42.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 20:05:42.453 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-12-30 20:05:42.477 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 20:05:42.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 401 null application/json; charset=utf-8 62.7145ms
2025-12-30 20:06:03.754 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 20:06:03.942 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 20:06:03.969 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:06:04.054 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 20:06:04.065 +02:00 [INF] Fetching all shoppings
2025-12-30 20:06:04.565 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 20:06:04.784 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 722.5854ms.
2025-12-30 20:06:04.797 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 20:06:04.817 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 834.308ms
2025-12-30 20:06:04.837 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 20:06:04.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 1109.2653ms
2025-12-30 20:11:50.315 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 20:11:51.034 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 20:11:51.040 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 20:11:51.184 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 20:11:51.189 +02:00 [INF] Hosting environment: Development
2025-12-30 20:11:51.195 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 20:11:51.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 20:11:52.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 935.3128ms
2025-12-30 20:11:52.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 20:11:52.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 20:11:52.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 112.0655ms
2025-12-30 20:11:52.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 210.6593ms
2025-12-30 20:11:53.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 20:11:53.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.9281ms
2025-12-30 20:12:02.391 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/1/confirm - null 0
2025-12-30 20:12:02.630 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-30 20:12:02.656 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 20:12:02.667 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/1/confirm - 401 null application/json; charset=utf-8 273.7268ms
2025-12-30 20:12:17.697 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 20:12:17.730 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 20:12:17.805 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 20:12:18.956 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 20:12:19.011 +02:00 [INF] Validating user login for r@r
2025-12-30 20:12:23.419 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 20:12:25.476 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6500.9234ms.
2025-12-30 20:12:25.500 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 20:12:25.528 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 7695.8902ms
2025-12-30 20:12:25.538 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 20:12:25.583 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 7885.6164ms
2025-12-30 20:12:42.492 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/1/confirm - null 0
2025-12-30 20:12:42.666 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:12:42.691 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:12:42.792 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 20:12:43.314 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 20:12:43.400 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 600.3182ms.
2025-12-30 20:12:43.414 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 20:12:43.423 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 721.3512ms
2025-12-30 20:12:43.434 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:12:43.446 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/1/confirm - 400 null text/plain; charset=utf-8 954.6588ms
2025-12-30 20:12:52.683 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/5555/confirm - null 0
2025-12-30 20:12:52.712 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:12:52.721 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:12:52.798 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 20:12:53.032 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 20:12:53.047 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 244.0385ms.
2025-12-30 20:12:53.057 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 20:12:53.064 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 328.7938ms
2025-12-30 20:12:53.074 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:12:53.081 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/5555/confirm - 400 null text/plain; charset=utf-8 399.4606ms
2025-12-30 20:13:16.656 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/2/confirm - null 0
2025-12-30 20:13:16.702 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:13:16.709 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:13:16.778 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 20:13:16.799 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 20:13:16.916 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 131.0972ms.
2025-12-30 20:13:16.927 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 20:13:16.936 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 214.6004ms
2025-12-30 20:13:16.945 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:13:16.953 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/2/confirm - 400 null text/plain; charset=utf-8 298.9447ms
2025-12-30 20:15:22.918 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 20:15:23.630 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 20:15:23.637 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 20:15:23.790 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 20:15:23.797 +02:00 [INF] Hosting environment: Development
2025-12-30 20:15:23.800 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 20:15:24.735 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 20:15:25.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 940.0015ms
2025-12-30 20:15:25.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 20:15:25.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 20:15:25.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 92.31ms
2025-12-30 20:15:25.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 178.5848ms
2025-12-30 20:15:25.895 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 20:15:25.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.3994ms
2025-12-30 20:16:45.649 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 33
2025-12-30 20:16:46.115 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 20:16:46.207 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:16:47.343 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 20:16:47.364 +02:00 [INF] Fetching user 1
2025-12-30 20:16:51.780 +02:00 [INF] Executed DbCommand (226ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 20:16:52.076 +02:00 [INF] Fetching gift 1
2025-12-30 20:16:52.503 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 20:16:52.769 +02:00 [INF] Adding shopping
2025-12-30 20:16:53.305 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shoppings] ([GiftId], [IsDraft], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-12-30 20:16:53.426 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6057.3889ms.
2025-12-30 20:16:53.466 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 20:16:53.495 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 7264.3793ms
2025-12-30 20:16:53.506 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 20:16:53.543 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 200 null text/plain; charset=utf-8 7894.6983ms
2025-12-30 20:17:35.159 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/5/confirm - null 0
2025-12-30 20:17:35.221 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:17:35.245 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:17:35.365 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 20:17:35.503 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 20:17:35.568 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Shoppings] SET [GiftId] = @p0, [IsDraft] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-30 20:17:35.588 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 217.3976ms.
2025-12-30 20:17:35.600 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 20:17:35.609 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 353.4902ms
2025-12-30 20:17:35.618 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:17:35.627 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/5/confirm - 200 null text/plain; charset=utf-8 471.6151ms
2025-12-30 20:50:21.204 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 20:50:22.072 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 20:50:22.076 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 20:50:22.241 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 20:50:22.247 +02:00 [INF] Hosting environment: Development
2025-12-30 20:50:22.254 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 20:50:23.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 20:50:24.129 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 863.5024ms
2025-12-30 20:50:24.168 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 20:50:24.171 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 20:50:24.270 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 100.347ms
2025-12-30 20:50:24.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 198.9653ms
2025-12-30 20:50:24.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 20:50:24.582 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.1722ms
2025-12-30 20:51:02.033 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 20:51:02.347 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 20:51:02.441 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 20:51:03.827 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 20:51:03.891 +02:00 [INF] Validating user login for r@r
2025-12-30 20:51:08.340 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 20:51:10.364 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6514.2887ms.
2025-12-30 20:51:10.390 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 20:51:10.416 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 7952.3735ms
2025-12-30 20:51:10.427 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 20:51:10.459 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 8428.1157ms
2025-12-30 20:51:36.596 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/100/confirm - null 0
2025-12-30 20:51:36.824 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:51:36.845 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:51:36.925 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 20:51:37.454 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 20:51:37.924 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 993.9721ms.
2025-12-30 20:51:37.941 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 20:51:37.953 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 1100.929ms
2025-12-30 20:51:37.975 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:51:37.991 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/100/confirm - 400 null text/plain; charset=utf-8 1397.3353ms
2025-12-30 20:52:02.737 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/2/confirm - null 0
2025-12-30 20:52:02.802 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:52:02.811 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 20:52:02.884 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 20:52:03.149 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 20:52:03.500 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 607.4421ms.
2025-12-30 20:52:03.507 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-30 20:52:03.513 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 687.3876ms
2025-12-30 20:52:03.520 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 20:52:03.526 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/2/confirm - 400 null text/plain; charset=utf-8 790.9172ms
2025-12-30 21:34:34.149 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 21:34:34.824 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 21:34:34.829 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 21:34:34.969 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 21:34:34.975 +02:00 [INF] Hosting environment: Development
2025-12-30 21:34:34.981 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 21:34:35.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 21:34:36.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 1012.9627ms
2025-12-30 21:34:36.995 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 21:34:36.995 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 21:34:37.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 186.1735ms
2025-12-30 21:34:37.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 322.5886ms
2025-12-30 21:34:37.408 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 21:34:37.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.3593ms
2025-12-30 21:34:56.982 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 43
2025-12-30 21:34:57.253 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-30 21:34:57.282 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-30 21:34:57.293 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 401 null application/json; charset=utf-8 310.878ms
2025-12-30 21:35:27.721 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 21:35:27.807 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 21:35:27.884 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 21:35:28.989 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 21:35:29.054 +02:00 [INF] Validating user login for r@r
2025-12-30 21:35:33.113 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 21:35:35.068 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6053.1199ms.
2025-12-30 21:35:35.100 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 21:35:35.131 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 7226.9807ms
2025-12-30 21:35:35.145 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 21:35:35.185 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 7465.5095ms
2025-12-30 21:35:55.947 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 43
2025-12-30 21:35:56.109 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:35:56.135 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 21:35:56.232 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 21:35:56.248 +02:00 [INF] Fetching user 2
2025-12-30 21:35:56.469 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 21:35:56.541 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 298.5207ms.
2025-12-30 21:35:56.555 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-12-30 21:35:56.564 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 419.8226ms
2025-12-30 21:35:56.572 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:35:56.586 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 404 null text/plain; charset=utf-8 638.4132ms
2025-12-30 21:36:04.969 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 43
2025-12-30 21:36:04.987 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:36:04.994 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 21:36:05.079 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 21:36:05.085 +02:00 [INF] Fetching user 3
2025-12-30 21:36:05.335 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 21:36:05.356 +02:00 [INF] Fetching gift 2
2025-12-30 21:36:05.736 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 21:36:05.958 +02:00 [INF] Adding shopping
2025-12-30 21:36:06.443 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shoppings] ([GiftId], [IsDraft], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-12-30 21:36:06.542 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1457.4971ms.
2025-12-30 21:36:06.551 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 21:36:06.561 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 1558.7289ms
2025-12-30 21:36:06.570 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:36:06.622 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 200 null text/plain; charset=utf-8 1652.989ms
2025-12-30 21:37:50.331 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/6/confirm - null 0
2025-12-30 21:37:50.365 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 21:37:50.390 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 21:37:50.456 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 21:37:50.598 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 21:37:50.701 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Shoppings] SET [GiftId] = @p0, [IsDraft] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-30 21:37:50.723 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 256.6996ms.
2025-12-30 21:37:50.734 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 21:37:50.741 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 339.2624ms
2025-12-30 21:37:50.776 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 21:37:50.781 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/6/confirm - 200 null text/plain; charset=utf-8 450.6261ms
2025-12-30 21:38:40.909 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 43
2025-12-30 21:38:40.949 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:38:40.955 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 21:38:41.017 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 21:38:41.025 +02:00 [INF] Fetching user 3
2025-12-30 21:38:41.056 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 21:38:41.065 +02:00 [INF] Fetching gift 2
2025-12-30 21:38:41.085 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 21:38:41.099 +02:00 [INF] Adding shopping
2025-12-30 21:38:41.117 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shoppings] ([GiftId], [IsDraft], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-12-30 21:38:41.132 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 106.9706ms.
2025-12-30 21:38:41.143 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 21:38:41.153 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 187.4462ms
2025-12-30 21:38:41.192 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:38:41.201 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 200 null text/plain; charset=utf-8 295.871ms
2025-12-30 21:38:54.805 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 21:38:54.829 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 21:38:54.849 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 21:38:54.913 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 21:38:54.926 +02:00 [INF] Fetching all shoppings
2025-12-30 21:38:54.983 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 21:38:55.017 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.0114ms.
2025-12-30 21:38:55.027 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 21:38:55.041 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 177.7445ms
2025-12-30 21:38:55.051 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 21:38:55.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 254.5669ms
2025-12-30 21:50:48.253 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 21:50:48.985 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 21:50:48.990 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 21:50:49.147 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 21:50:49.152 +02:00 [INF] Hosting environment: Development
2025-12-30 21:50:49.158 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 21:50:50.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 21:50:51.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 1818.0057ms
2025-12-30 21:50:51.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 21:50:51.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 21:50:52.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 59.9791ms
2025-12-30 21:50:52.276 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 303.4947ms
2025-12-30 21:50:52.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 21:50:52.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.2326ms
2025-12-30 21:51:06.559 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Auth/login - application/json 42
2025-12-30 21:51:06.839 +02:00 [INF] Executing endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 21:51:06.918 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebApiProject.Models.DTO.LoginRequestDTO) on controller AuthController (WebApiProject).
2025-12-30 21:51:08.144 +02:00 [INF] Executing action method AuthController.Login (WebApiProject) - Validation state: "Valid"
2025-12-30 21:51:08.215 +02:00 [INF] Validating user login for r@r
2025-12-30 21:51:12.376 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-12-30 21:51:14.316 +02:00 [INF] Executed action method AuthController.Login (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6149.9386ms.
2025-12-30 21:51:14.342 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-30 21:51:14.368 +02:00 [INF] Executed action AuthController.Login (WebApiProject) in 7428.966ms
2025-12-30 21:51:14.377 +02:00 [INF] Executed endpoint 'AuthController.Login (WebApiProject)'
2025-12-30 21:51:14.412 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Auth/login - 200 null application/json; charset=utf-8 7853.3661ms
2025-12-30 21:51:43.209 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping - application/json 43
2025-12-30 21:51:43.417 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:51:43.441 +02:00 [INF] Route matched with {action = "Post", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(WebApiProject.Models.DTO.ShoppingDTO) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 21:51:43.567 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject) - Validation state: "Valid"
2025-12-30 21:51:43.581 +02:00 [INF] Fetching user 1
2025-12-30 21:51:43.824 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-12-30 21:51:43.892 +02:00 [INF] Fetching gift 1
2025-12-30 21:51:44.278 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CardPrice], [t].[Category], [t].[DonorId], [t].[Name], [t].[Id0], [t].[Email], [t].[Name0], [t].[Phone], [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [d].[Id] AS [Id0], [d].[Email], [d].[Name] AS [Name0], [d].[Phone]
    FROM [Gifts] AS [g]
    INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
    WHERE [g].[Id] = @__id_0
) AS [t]
LEFT JOIN [Shoppings] AS [s] ON [t].[Id] = [s].[GiftId]
ORDER BY [t].[Id], [t].[Id0]
2025-12-30 21:51:44.478 +02:00 [INF] Adding shopping
2025-12-30 21:51:44.920 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shoppings] ([GiftId], [IsDraft], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-12-30 21:51:45.032 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Post (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1457.1574ms.
2025-12-30 21:51:45.051 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 21:51:45.060 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Post (WebApiProject) in 1605.015ms
2025-12-30 21:51:45.070 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Post (WebApiProject)'
2025-12-30 21:51:45.083 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping - 200 null text/plain; charset=utf-8 1875.9171ms
2025-12-30 21:52:11.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 21:52:11.368 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 21:52:11.384 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 21:52:11.475 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 21:52:11.487 +02:00 [INF] Fetching all confirmed shoppings
2025-12-30 21:52:46.879 +02:00 [ERR] Failed executing DbCommand (35,128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName]
FROM [Shoppings] AS [s]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsDraft] = CAST(0 AS bit)
2025-12-30 21:52:47.016 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'WebApiProject.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbd2fba5-e020-4eb9-bbea-bbe2da8a5b06
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbd2fba5-e020-4eb9-bbea-bbe2da8a5b06
Error Number:-2,State:0,Class:11
2025-12-30 21:52:47.321 +02:00 [ERR] Error while fetching shoppings
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WebApiProject.BLL.ShoppingBLLService.Get() in C:\Users\user1\Desktop\WebApiProject\WebApiProject\BLL\ShoppingBLLService.cs:line 49
ClientConnectionId:dbd2fba5-e020-4eb9-bbea-bbe2da8a5b06
Error Number:-2,State:0,Class:11
2025-12-30 21:52:47.716 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 36319.5467ms
2025-12-30 21:52:47.725 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 21:52:47.740 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WebApiProject.BLL.ShoppingBLLService.Get() in C:\Users\user1\Desktop\WebApiProject\WebApiProject\BLL\ShoppingBLLService.cs:line 49
   at WebApiProject.Controllers.ShoppingController.Get() in C:\Users\user1\Desktop\WebApiProject\WebApiProject\Controllers\ShoppingController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:dbd2fba5-e020-4eb9-bbea-bbe2da8a5b06
Error Number:-2,State:0,Class:11
2025-12-30 21:52:47.792 +02:00 [FTL] Unhandled exception
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WebApiProject.BLL.ShoppingBLLService.Get() in C:\Users\user1\Desktop\WebApiProject\WebApiProject\BLL\ShoppingBLLService.cs:line 49
   at WebApiProject.Controllers.ShoppingController.Get() in C:\Users\user1\Desktop\WebApiProject\WebApiProject\Controllers\ShoppingController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:dbd2fba5-e020-4eb9-bbea-bbe2da8a5b06
Error Number:-2,State:0,Class:11
2025-12-30 21:52:47.841 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 500 null application/json; charset=utf-8 36561.9966ms
2025-12-30 22:00:40.895 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 22:00:41.654 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 22:00:41.658 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 22:00:41.794 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 22:00:41.798 +02:00 [INF] Hosting environment: Development
2025-12-30 22:00:41.803 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 22:00:42.410 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 22:00:43.337 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 22:00:43.337 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 22:00:43.382 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 978.2683ms
2025-12-30 22:00:43.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 151.1448ms
2025-12-30 22:00:43.589 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 252.844ms
2025-12-30 22:00:43.679 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 22:00:43.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.3158ms
2025-12-30 22:02:24.923 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 22:02:25.587 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 22:02:25.592 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 22:02:25.714 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 22:02:25.719 +02:00 [INF] Hosting environment: Development
2025-12-30 22:02:25.724 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 22:02:26.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 22:02:27.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 834.6378ms
2025-12-30 22:02:27.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 22:02:27.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 22:02:27.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 89.6571ms
2025-12-30 22:02:27.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 190.4098ms
2025-12-30 22:02:27.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 22:02:27.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.6424ms
2025-12-30 22:02:47.132 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 22:02:47.597 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 22:02:47.679 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 22:02:48.766 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 22:02:48.781 +02:00 [INF] Fetching all confirmed shoppings
2025-12-30 22:02:55.252 +02:00 [INF] Executed DbCommand (1,988ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 22:02:55.742 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6957.5842ms.
2025-12-30 22:02:55.774 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 22:02:55.810 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 8108.5456ms
2025-12-30 22:02:55.817 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 22:02:55.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 8714.1935ms
2025-12-30 22:03:23.327 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7164/api/Shopping/8/confirm - null 0
2025-12-30 22:03:23.374 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 22:03:23.411 +02:00 [INF] Route matched with {action = "ConfirmShopping", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmShopping(Int32) on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 22:03:23.537 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) - Validation state: "Valid"
2025-12-30 22:03:23.848 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
WHERE [s].[Id] = @__id_0
2025-12-30 22:03:24.224 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Shoppings] SET [GiftId] = @p0, [IsDraft] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-30 22:03:24.282 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 737.051ms.
2025-12-30 22:03:24.291 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-12-30 22:03:24.297 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject) in 873.3648ms
2025-12-30 22:03:24.303 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.ConfirmShopping (WebApiProject)'
2025-12-30 22:03:24.309 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7164/api/Shopping/8/confirm - 200 null text/plain; charset=utf-8 1003.6574ms
2025-12-30 22:03:30.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 22:03:30.060 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 22:03:30.070 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 22:03:30.152 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 22:03:30.157 +02:00 [INF] Fetching all confirmed shoppings
2025-12-30 22:03:30.399 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 22:03:30.420 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 263.0086ms.
2025-12-30 22:03:30.430 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 22:03:30.439 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 352.0674ms
2025-12-30 22:03:30.447 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 22:03:30.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 427.2531ms
2025-12-30 22:05:48.747 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-30 22:05:49.366 +02:00 [INF] Now listening on: https://localhost:7164
2025-12-30 22:05:49.373 +02:00 [INF] Now listening on: http://localhost:5205
2025-12-30 22:05:49.547 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 22:05:49.553 +02:00 [INF] Hosting environment: Development
2025-12-30 22:05:49.568 +02:00 [INF] Content root path: C:\Users\user1\Desktop\WebApiProject\WebApiProject
2025-12-30 22:05:50.276 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/index.html - null null
2025-12-30 22:05:51.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/index.html - 200 null text/html;charset=utf-8 849.0389ms
2025-12-30 22:05:51.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_vs/browserLink - null null
2025-12-30 22:05:51.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - null null
2025-12-30 22:05:51.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 141.0055ms
2025-12-30 22:05:51.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/_vs/browserLink - 200 null text/javascript; charset=UTF-8 244.8304ms
2025-12-30 22:05:51.440 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - null null
2025-12-30 22:05:51.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.8005ms
2025-12-30 22:06:06.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7164/api/Shopping - null null
2025-12-30 22:06:06.767 +02:00 [INF] Executing endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 22:06:06.829 +02:00 [INF] Route matched with {action = "Get", controller = "Shopping"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller WebApiProject.Controllers.ShoppingController (WebApiProject).
2025-12-30 22:06:07.991 +02:00 [INF] Executing action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject) - Validation state: "Valid"
2025-12-30 22:06:08.008 +02:00 [INF] Fetching all confirmed shoppings
2025-12-30 22:06:12.631 +02:00 [INF] Executed DbCommand (187ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[GiftId], [s].[IsDraft], [s].[UserId], [u].[Id], [u].[Email], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[UserName], [g].[Id], [g].[CardPrice], [g].[Category], [g].[DonorId], [g].[Name]
FROM [Shoppings] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Gifts] AS [g] ON [s].[GiftId] = [g].[Id]
2025-12-30 22:06:13.043 +02:00 [INF] Executed action method WebApiProject.Controllers.ShoppingController.Get (WebApiProject), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5023.5813ms.
2025-12-30 22:06:13.089 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApiProject.Models.DTO.ShoppingDTO, WebApiProject, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-30 22:06:13.123 +02:00 [INF] Executed action WebApiProject.Controllers.ShoppingController.Get (WebApiProject) in 6267.1417ms
2025-12-30 22:06:13.135 +02:00 [INF] Executed endpoint 'WebApiProject.Controllers.ShoppingController.Get (WebApiProject)'
2025-12-30 22:06:13.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7164/api/Shopping - 200 null application/json; charset=utf-8 6882.9084ms
