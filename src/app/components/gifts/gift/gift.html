<div>
    <form [formGroup]="frmGift">

            <div class="form-group">
                <div class="form-label">Gift Name</div>
                <div>
                    <input type="text" class="form-control" formControlName="name" />
                    @if (frmGift.controls['name'].touched && frmGift.controls['name'].errors?.['required']) {
                        <div class="text-danger">Required field</div>
                    }
                </div>
            </div>

            <div class="form-group">
                <div class="form-label">Select Donor</div>
                <div>
                    <select class="form-control" (change)="onDonorChange($event)" [value]="frmGift.controls['donorId'].value">
                        <option value="">-- Select a Donor --</option>
                        @for (donor of donors; track donor.id) {
                            <option [value]="donor.id">{{ donor.name }} (ID: {{ donor.id }})</option>
                        }
                    </select>
                    @if (frmGift.controls['donorId'].touched && frmGift.controls['donorId'].errors?.['required']) {
                        <div class="text-danger">Required field</div>
                    }
                </div>
            </div>

            <div class="form-group">
                <div class="form-label">Card Price</div>
                <div>
                    <input type="number" class="form-control" formControlName="cardPrice" />
                    @if (frmGift.controls['cardPrice'].touched && frmGift.controls['cardPrice'].errors?.['required']) {
                        <div class="text-danger">Required field</div>
                    }
                </div>
            </div>

            <div class="form-group">
                <div class="form-label">Category</div>
                <div>
                    <input type="text" class="form-control" formControlName="category" />
                </div>
            </div>

            @if (serverError) {
                <div class="error-message">
                    ⚠️ {{ serverError }}
                </div>
            }
            
            <button type="button" (click)="saveGift()">Save</button>
            <button type="button" (click)="cancel()">Cancel</button>


        </form>
</div>

