<h2>Register</h2>

<!-- שם משתמש -->
<div>
  <input [(ngModel)]="user.userName" placeholder="Username" />
  @if (errors['userName']?.length) {
    <div>
      @for (err of errors['userName']; track err) {
        <small style="color:red">{{ err }}</small>
      }
    </div>
  }
</div>

<!-- אימייל -->
<div>
  <input [(ngModel)]="user.email" placeholder="Email" />
  @if (errors['email']?.length) {
    <div>
      @for (err of errors['email']; track err) {
        <small style="color:red">{{ err }}</small>
      }
    </div>
  }
</div>

<!-- טלפון -->
<div>
  <input [(ngModel)]="user.phone" placeholder="Phone" />
  @if (errors['phone']?.length) {
    <div>
      @for (err of errors['phone']; track err) {
        <small style="color:red">{{ err }}</small>
      }
    </div>
  }
</div>

<!-- סיסמא -->
<div>
  <input [(ngModel)]="user.password" type="password" placeholder="Password" />
  @if (errors['password']?.length) {
    <div>
      @for (err of errors['password']; track err) {
        <small style="color:red">{{ err }}</small>
      }
    </div>
  }
</div>

<button (click)="register()">Register</button>

<!-- הודעת הצלחה -->
@if (successMessage) {
  <div style="color:green">{{ successMessage }}</div>
}

<!-- שגיאות כלליות -->
@if (errors['general']?.length) {
  <div>
    @for (err of errors['general']; track err) {
      <div style="color:red">{{ err }}</div>
    }
  </div>
}

<p>Already registered? <a routerLink="/login">Login here</a></p>

