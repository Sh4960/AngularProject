<h3>Donors List</h3>

@if(errorMsg){
<div class="alert alert-danger">{{errorMsg}}</div>
}

@if(isManager()){
<table class="table-bordered">
  <thead>
    <tr>
      <th>Donor ID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    @for(d of donors$ | async; track d.id){
      <tr>
        <td>{{d.id}}</td>
        <td>{{d.name}}</td>
        <td>{{d.email}}</td>
        <td>{{d.phone}}</td>
        <td>
          <button (click)="removeDonor(d.id)">❌</button>
          <button (click)="updateDonor(d.id)">✏️</button>
        </td>
      </tr>
    }
  </tbody>
</table>

<button (click)="id = 0">➕ Add Donor</button>

@if(id >= 0){
<app-donor [(selectedId)]="id" (selectedIdChange)="onDonorSaved($event)"></app-donor>
}
} @else {
<div class="alert alert-warning">Not authorized - Only managers can view donors</div>
}